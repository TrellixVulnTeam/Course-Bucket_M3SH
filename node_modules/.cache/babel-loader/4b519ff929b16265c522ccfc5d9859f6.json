{"ast":null,"code":"/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n(function sortableModule(factory) {\n  \"use strict\";\n\n  if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n    module.exports = factory();\n  } else {\n    /* jshint sub:true */\n    window[\"Sortable\"] = factory();\n  }\n})(function sortableFactory() {\n  \"use strict\";\n\n  if (typeof window == \"undefined\" || !window.document) {\n    return function sortableError() {\n      throw new Error(\"Sortable.js requires a window with a document\");\n    };\n  }\n\n  var dragEl,\n      parentEl,\n      ghostEl,\n      cloneEl,\n      rootEl,\n      nextEl,\n      lastDownEl,\n      scrollEl,\n      scrollParentEl,\n      scrollCustomFn,\n      lastEl,\n      lastCSS,\n      lastParentCSS,\n      oldIndex,\n      newIndex,\n      activeGroup,\n      putSortable,\n      autoScroll = {},\n      tapEvt,\n      touchEvt,\n      moved,\n\n  /** @const */\n  R_SPACE = /\\s+/g,\n      R_FLOAT = /left|right|inline/,\n      expando = 'Sortable' + new Date().getTime(),\n      win = window,\n      document = win.document,\n      parseInt = win.parseInt,\n      $ = win.jQuery || win.Zepto,\n      Polymer = win.Polymer,\n      captureMode = false,\n      supportDraggable = !!('draggable' in document.createElement('div')),\n      supportCssPointerEvents = function (el) {\n    // false when IE11\n    if (!!navigator.userAgent.match(/Trident.*rv[ :]?11\\./)) {\n      return false;\n    }\n\n    el = document.createElement('x');\n    el.style.cssText = 'pointer-events:auto';\n    return el.style.pointerEvents === 'auto';\n  }(),\n      _silent = false,\n      abs = Math.abs,\n      min = Math.min,\n      savedInputChecked = [],\n      touchDragOverListeners = [],\n      _autoScroll = _throttle(function (\n  /**Event*/\n  evt,\n  /**Object*/\n  options,\n  /**HTMLElement*/\n  rootEl) {\n    // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n    if (rootEl && options.scroll) {\n      var _this = rootEl[expando],\n          el,\n          rect,\n          sens = options.scrollSensitivity,\n          speed = options.scrollSpeed,\n          x = evt.clientX,\n          y = evt.clientY,\n          winWidth = window.innerWidth,\n          winHeight = window.innerHeight,\n          vx,\n          vy,\n          scrollOffsetX,\n          scrollOffsetY; // Delect scrollEl\n\n      if (scrollParentEl !== rootEl) {\n        scrollEl = options.scroll;\n        scrollParentEl = rootEl;\n        scrollCustomFn = options.scrollFn;\n\n        if (scrollEl === true) {\n          scrollEl = rootEl;\n\n          do {\n            if (scrollEl.offsetWidth < scrollEl.scrollWidth || scrollEl.offsetHeight < scrollEl.scrollHeight) {\n              break;\n            }\n            /* jshint boss:true */\n\n          } while (scrollEl = scrollEl.parentNode);\n        }\n      }\n\n      if (scrollEl) {\n        el = scrollEl;\n        rect = scrollEl.getBoundingClientRect();\n        vx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n        vy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n      }\n\n      if (!(vx || vy)) {\n        vx = (winWidth - x <= sens) - (x <= sens);\n        vy = (winHeight - y <= sens) - (y <= sens);\n        /* jshint expr:true */\n\n        (vx || vy) && (el = win);\n      }\n\n      if (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n        autoScroll.el = el;\n        autoScroll.vx = vx;\n        autoScroll.vy = vy;\n        clearInterval(autoScroll.pid);\n\n        if (el) {\n          autoScroll.pid = setInterval(function () {\n            scrollOffsetY = vy ? vy * speed : 0;\n            scrollOffsetX = vx ? vx * speed : 0;\n\n            if ('function' === typeof scrollCustomFn) {\n              return scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt);\n            }\n\n            if (el === win) {\n              win.scrollTo(win.pageXOffset + scrollOffsetX, win.pageYOffset + scrollOffsetY);\n            } else {\n              el.scrollTop += scrollOffsetY;\n              el.scrollLeft += scrollOffsetX;\n            }\n          }, 24);\n        }\n      }\n    }\n  }, 30),\n      _prepareGroup = function (options) {\n    function toFn(value, pull) {\n      if (value === void 0 || value === true) {\n        value = group.name;\n      }\n\n      if (typeof value === 'function') {\n        return value;\n      } else {\n        return function (to, from) {\n          var fromGroup = from.options.group.name;\n          return pull ? value : value && (value.join ? value.indexOf(fromGroup) > -1 : fromGroup == value);\n        };\n      }\n    }\n\n    var group = {};\n    var originalGroup = options.group;\n\n    if (!originalGroup || typeof originalGroup != 'object') {\n      originalGroup = {\n        name: originalGroup\n      };\n    }\n\n    group.name = originalGroup.name;\n    group.checkPull = toFn(originalGroup.pull, true);\n    group.checkPut = toFn(originalGroup.put);\n    group.revertClone = originalGroup.revertClone;\n    options.group = group;\n  };\n  /**\n   * @class  Sortable\n   * @param  {HTMLElement}  el\n   * @param  {Object}       [options]\n   */\n\n\n  function Sortable(el, options) {\n    if (!(el && el.nodeType && el.nodeType === 1)) {\n      throw 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);\n    }\n\n    this.el = el; // root element\n\n    this.options = options = _extend({}, options); // Export instance\n\n    el[expando] = this; // Default options\n\n    var defaults = {\n      group: Math.random(),\n      sort: true,\n      disabled: false,\n      store: null,\n      handle: null,\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      draggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n      ghostClass: 'sortable-ghost',\n      chosenClass: 'sortable-chosen',\n      dragClass: 'sortable-drag',\n      ignore: 'a, img',\n      filter: null,\n      preventOnFilter: true,\n      animation: 0,\n      setData: function (dataTransfer, dragEl) {\n        dataTransfer.setData('Text', dragEl.textContent);\n      },\n      dropBubble: false,\n      dragoverBubble: false,\n      dataIdAttr: 'data-id',\n      delay: 0,\n      forceFallback: false,\n      fallbackClass: 'sortable-fallback',\n      fallbackOnBody: false,\n      fallbackTolerance: 0,\n      fallbackOffset: {\n        x: 0,\n        y: 0\n      }\n    }; // Set default options\n\n    for (var name in defaults) {\n      !(name in options) && (options[name] = defaults[name]);\n    }\n\n    _prepareGroup(options); // Bind all private methods\n\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    } // Setup drag mode\n\n\n    this.nativeDraggable = options.forceFallback ? false : supportDraggable; // Bind events\n\n    _on(el, 'mousedown', this._onTapStart);\n\n    _on(el, 'touchstart', this._onTapStart);\n\n    _on(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      _on(el, 'dragover', this);\n\n      _on(el, 'dragenter', this);\n    }\n\n    touchDragOverListeners.push(this._onDragOver); // Restore sorting\n\n    options.store && this.sort(options.store.get(this));\n  }\n\n  Sortable.prototype =\n  /** @lends Sortable.prototype */\n  {\n    constructor: Sortable,\n    _onTapStart: function (\n    /** Event|TouchEvent */\n    evt) {\n      var _this = this,\n          el = this.el,\n          options = this.options,\n          preventOnFilter = options.preventOnFilter,\n          type = evt.type,\n          touch = evt.touches && evt.touches[0],\n          target = (touch || evt).target,\n          originalTarget = evt.target.shadowRoot && evt.path && evt.path[0] || target,\n          filter = options.filter,\n          startIndex;\n\n      _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n      if (dragEl) {\n        return;\n      }\n\n      if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n        return; // only left button or enabled\n      }\n\n      target = _closest(target, options.draggable, el);\n\n      if (!target) {\n        return;\n      }\n\n      if (lastDownEl === target) {\n        // Ignoring duplicate `down`\n        return;\n      } // Get the index of the dragged element within its parent\n\n\n      startIndex = _index(target, options.draggable); // Check filter\n\n      if (typeof filter === 'function') {\n        if (filter.call(this, evt, target, this)) {\n          _dispatchEvent(_this, originalTarget, 'filter', target, el, startIndex);\n\n          preventOnFilter && evt.preventDefault();\n          return; // cancel dnd\n        }\n      } else if (filter) {\n        filter = filter.split(',').some(function (criteria) {\n          criteria = _closest(originalTarget, criteria.trim(), el);\n\n          if (criteria) {\n            _dispatchEvent(_this, criteria, 'filter', target, el, startIndex);\n\n            return true;\n          }\n        });\n\n        if (filter) {\n          preventOnFilter && evt.preventDefault();\n          return; // cancel dnd\n        }\n      }\n\n      if (options.handle && !_closest(originalTarget, options.handle, el)) {\n        return;\n      } // Prepare `dragstart`\n\n\n      this._prepareDragStart(evt, touch, target, startIndex);\n    },\n    _prepareDragStart: function (\n    /** Event */\n    evt,\n    /** Touch */\n    touch,\n    /** HTMLElement */\n    target,\n    /** Number */\n    startIndex) {\n      var _this = this,\n          el = _this.el,\n          options = _this.options,\n          ownerDocument = el.ownerDocument,\n          dragStartFn;\n\n      if (target && !dragEl && target.parentNode === el) {\n        tapEvt = evt;\n        rootEl = el;\n        dragEl = target;\n        parentEl = dragEl.parentNode;\n        nextEl = dragEl.nextSibling;\n        lastDownEl = target;\n        activeGroup = options.group;\n        oldIndex = startIndex;\n        this._lastX = (touch || evt).clientX;\n        this._lastY = (touch || evt).clientY;\n        dragEl.style['will-change'] = 'transform';\n\n        dragStartFn = function () {\n          // Delayed drag has been triggered\n          // we can re-enable the events: touchmove/mousemove\n          _this._disableDelayedDrag(); // Make the element draggable\n\n\n          dragEl.draggable = _this.nativeDraggable; // Chosen item\n\n          _toggleClass(dragEl, options.chosenClass, true); // Bind the events: dragstart/dragend\n\n\n          _this._triggerDragStart(evt, touch); // Drag start event\n\n\n          _dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, oldIndex);\n        }; // Disable \"draggable\"\n\n\n        options.ignore.split(',').forEach(function (criteria) {\n          _find(dragEl, criteria.trim(), _disableDraggable);\n        });\n\n        _on(ownerDocument, 'mouseup', _this._onDrop);\n\n        _on(ownerDocument, 'touchend', _this._onDrop);\n\n        _on(ownerDocument, 'touchcancel', _this._onDrop);\n\n        _on(ownerDocument, 'pointercancel', _this._onDrop);\n\n        _on(ownerDocument, 'selectstart', _this);\n\n        if (options.delay) {\n          // If the user moves the pointer or let go the click or touch\n          // before the delay has been reached:\n          // disable the delayed drag\n          _on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\n          _on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\n          _on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\n          _on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\n          _on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\n          _on(ownerDocument, 'pointermove', _this._disableDelayedDrag);\n\n          _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n        } else {\n          dragStartFn();\n        }\n      }\n    },\n    _disableDelayedDrag: function () {\n      var ownerDocument = this.el.ownerDocument;\n      clearTimeout(this._dragStartTimer);\n\n      _off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\n      _off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\n      _off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\n      _off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\n      _off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\n      _off(ownerDocument, 'pointermove', this._disableDelayedDrag);\n    },\n    _triggerDragStart: function (\n    /** Event */\n    evt,\n    /** Touch */\n    touch) {\n      touch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n      if (touch) {\n        // Touch device support\n        tapEvt = {\n          target: dragEl,\n          clientX: touch.clientX,\n          clientY: touch.clientY\n        };\n\n        this._onDragStart(tapEvt, 'touch');\n      } else if (!this.nativeDraggable) {\n        this._onDragStart(tapEvt, true);\n      } else {\n        _on(dragEl, 'dragend', this);\n\n        _on(rootEl, 'dragstart', this._onDragStart);\n      }\n\n      try {\n        if (document.selection) {\n          // Timeout neccessary for IE9\n          setTimeout(function () {\n            document.selection.empty();\n          });\n        } else {\n          window.getSelection().removeAllRanges();\n        }\n      } catch (err) {}\n    },\n    _dragStarted: function () {\n      if (rootEl && dragEl) {\n        var options = this.options; // Apply effect\n\n        _toggleClass(dragEl, options.ghostClass, true);\n\n        _toggleClass(dragEl, options.dragClass, false);\n\n        Sortable.active = this; // Drag start event\n\n        _dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n      } else {\n        this._nulling();\n      }\n    },\n    _emulateDragOver: function () {\n      if (touchEvt) {\n        if (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n          return;\n        }\n\n        this._lastX = touchEvt.clientX;\n        this._lastY = touchEvt.clientY;\n\n        if (!supportCssPointerEvents) {\n          _css(ghostEl, 'display', 'none');\n        }\n\n        var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n            parent = target,\n            i = touchDragOverListeners.length;\n\n        if (parent) {\n          do {\n            if (parent[expando]) {\n              while (i--) {\n                touchDragOverListeners[i]({\n                  clientX: touchEvt.clientX,\n                  clientY: touchEvt.clientY,\n                  target: target,\n                  rootEl: parent\n                });\n              }\n\n              break;\n            }\n\n            target = parent; // store last element\n          }\n          /* jshint boss:true */\n          while (parent = parent.parentNode);\n        }\n\n        if (!supportCssPointerEvents) {\n          _css(ghostEl, 'display', '');\n        }\n      }\n    },\n    _onTouchMove: function (\n    /**TouchEvent*/\n    evt) {\n      if (tapEvt) {\n        var options = this.options,\n            fallbackTolerance = options.fallbackTolerance,\n            fallbackOffset = options.fallbackOffset,\n            touch = evt.touches ? evt.touches[0] : evt,\n            dx = touch.clientX - tapEvt.clientX + fallbackOffset.x,\n            dy = touch.clientY - tapEvt.clientY + fallbackOffset.y,\n            translate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)'; // only set the status to dragging, when we are actually dragging\n\n        if (!Sortable.active) {\n          if (fallbackTolerance && min(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n            return;\n          }\n\n          this._dragStarted();\n        } // as well as creating the ghost element on the document body\n\n\n        this._appendGhost();\n\n        moved = true;\n        touchEvt = touch;\n\n        _css(ghostEl, 'webkitTransform', translate3d);\n\n        _css(ghostEl, 'mozTransform', translate3d);\n\n        _css(ghostEl, 'msTransform', translate3d);\n\n        _css(ghostEl, 'transform', translate3d);\n\n        evt.preventDefault();\n      }\n    },\n    _appendGhost: function () {\n      if (!ghostEl) {\n        var rect = dragEl.getBoundingClientRect(),\n            css = _css(dragEl),\n            options = this.options,\n            ghostRect;\n\n        ghostEl = dragEl.cloneNode(true);\n\n        _toggleClass(ghostEl, options.ghostClass, false);\n\n        _toggleClass(ghostEl, options.fallbackClass, true);\n\n        _toggleClass(ghostEl, options.dragClass, true);\n\n        _css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\n        _css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\n        _css(ghostEl, 'width', rect.width);\n\n        _css(ghostEl, 'height', rect.height);\n\n        _css(ghostEl, 'opacity', '0.8');\n\n        _css(ghostEl, 'position', 'fixed');\n\n        _css(ghostEl, 'zIndex', '100000');\n\n        _css(ghostEl, 'pointerEvents', 'none');\n\n        options.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl); // Fixing dimensions.\n\n        ghostRect = ghostEl.getBoundingClientRect();\n\n        _css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\n        _css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n      }\n    },\n    _onDragStart: function (\n    /**Event*/\n    evt,\n    /**boolean*/\n    useFallback) {\n      var dataTransfer = evt.dataTransfer,\n          options = this.options;\n\n      this._offUpEvents();\n\n      if (activeGroup.checkPull(this, this, dragEl, evt)) {\n        cloneEl = _clone(dragEl);\n        cloneEl.draggable = false;\n        cloneEl.style['will-change'] = '';\n\n        _css(cloneEl, 'display', 'none');\n\n        _toggleClass(cloneEl, this.options.chosenClass, false);\n\n        rootEl.insertBefore(cloneEl, dragEl);\n\n        _dispatchEvent(this, rootEl, 'clone', dragEl);\n      }\n\n      _toggleClass(dragEl, options.dragClass, true);\n\n      if (useFallback) {\n        if (useFallback === 'touch') {\n          // Bind touch events\n          _on(document, 'touchmove', this._onTouchMove);\n\n          _on(document, 'touchend', this._onDrop);\n\n          _on(document, 'touchcancel', this._onDrop);\n\n          _on(document, 'pointermove', this._onTouchMove);\n\n          _on(document, 'pointerup', this._onDrop);\n        } else {\n          // Old brwoser\n          _on(document, 'mousemove', this._onTouchMove);\n\n          _on(document, 'mouseup', this._onDrop);\n        }\n\n        this._loopId = setInterval(this._emulateDragOver, 50);\n      } else {\n        if (dataTransfer) {\n          dataTransfer.effectAllowed = 'move';\n          options.setData && options.setData.call(this, dataTransfer, dragEl);\n        }\n\n        _on(document, 'drop', this);\n\n        setTimeout(this._dragStarted, 0);\n      }\n    },\n    _onDragOver: function (\n    /**Event*/\n    evt) {\n      var el = this.el,\n          target,\n          dragRect,\n          targetRect,\n          revert,\n          options = this.options,\n          group = options.group,\n          activeSortable = Sortable.active,\n          isOwner = activeGroup === group,\n          isMovingBetweenSortable = false,\n          canSort = options.sort;\n\n      if (evt.preventDefault !== void 0) {\n        evt.preventDefault();\n        !options.dragoverBubble && evt.stopPropagation();\n      }\n\n      if (dragEl.animated) {\n        return;\n      }\n\n      moved = true;\n\n      if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n      : putSortable === this || (activeSortable.lastPullMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt)) && (evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n      ) {\n          // Smart auto-scrolling\n          _autoScroll(evt, options, this.el);\n\n          if (_silent) {\n            return;\n          }\n\n          target = _closest(evt.target, options.draggable, el);\n          dragRect = dragEl.getBoundingClientRect();\n\n          if (putSortable !== this) {\n            putSortable = this;\n            isMovingBetweenSortable = true;\n          }\n\n          if (revert) {\n            _cloneHide(activeSortable, true);\n\n            parentEl = rootEl; // actualization\n\n            if (cloneEl || nextEl) {\n              rootEl.insertBefore(dragEl, cloneEl || nextEl);\n            } else if (!canSort) {\n              rootEl.appendChild(dragEl);\n            }\n\n            return;\n          }\n\n          if (el.children.length === 0 || el.children[0] === ghostEl || el === evt.target && _ghostIsLast(el, evt)) {\n            //assign target only if condition is true\n            if (el.children.length !== 0 && el.children[0] !== ghostEl && el === evt.target) {\n              target = el.lastElementChild;\n            }\n\n            if (target) {\n              if (target.animated) {\n                return;\n              }\n\n              targetRect = target.getBoundingClientRect();\n            }\n\n            _cloneHide(activeSortable, isOwner);\n\n            if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt) !== false) {\n              if (!dragEl.contains(el)) {\n                el.appendChild(dragEl);\n                parentEl = el; // actualization\n              }\n\n              this._animate(dragRect, dragEl);\n\n              target && this._animate(targetRect, target);\n            }\n          } else if (target && !target.animated && target !== dragEl && target.parentNode[expando] !== void 0) {\n            if (lastEl !== target) {\n              lastEl = target;\n              lastCSS = _css(target);\n              lastParentCSS = _css(target.parentNode);\n            }\n\n            targetRect = target.getBoundingClientRect();\n            var width = targetRect.right - targetRect.left,\n                height = targetRect.bottom - targetRect.top,\n                floating = R_FLOAT.test(lastCSS.cssFloat + lastCSS.display) || lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0,\n                isWide = target.offsetWidth > dragEl.offsetWidth,\n                isLong = target.offsetHeight > dragEl.offsetHeight,\n                halfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n                nextSibling = target.nextElementSibling,\n                after = false;\n\n            if (floating) {\n              var elTop = dragEl.offsetTop,\n                  tgTop = target.offsetTop;\n\n              if (elTop === tgTop) {\n                after = target.previousElementSibling === dragEl && !isWide || halfway && isWide;\n              } else if (target.previousElementSibling === dragEl || dragEl.previousElementSibling === target) {\n                after = (evt.clientY - targetRect.top) / height > 0.5;\n              } else {\n                after = tgTop > elTop;\n              }\n            } else if (!isMovingBetweenSortable) {\n              after = nextSibling !== dragEl && !isLong || halfway && isLong;\n            }\n\n            var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n            if (moveVector !== false) {\n              if (moveVector === 1 || moveVector === -1) {\n                after = moveVector === 1;\n              }\n\n              _silent = true;\n              setTimeout(_unsilent, 30);\n\n              _cloneHide(activeSortable, isOwner);\n\n              if (!dragEl.contains(el)) {\n                if (after && !nextSibling) {\n                  el.appendChild(dragEl);\n                } else {\n                  target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n                }\n              }\n\n              parentEl = dragEl.parentNode; // actualization\n\n              this._animate(dragRect, dragEl);\n\n              this._animate(targetRect, target);\n            }\n          }\n        }\n    },\n    _animate: function (prevRect, target) {\n      var ms = this.options.animation;\n\n      if (ms) {\n        var currentRect = target.getBoundingClientRect();\n\n        if (prevRect.nodeType === 1) {\n          prevRect = prevRect.getBoundingClientRect();\n        }\n\n        _css(target, 'transition', 'none');\n\n        _css(target, 'transform', 'translate3d(' + (prevRect.left - currentRect.left) + 'px,' + (prevRect.top - currentRect.top) + 'px,0)');\n\n        target.offsetWidth; // repaint\n\n        _css(target, 'transition', 'all ' + ms + 'ms');\n\n        _css(target, 'transform', 'translate3d(0,0,0)');\n\n        clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          _css(target, 'transition', '');\n\n          _css(target, 'transform', '');\n\n          target.animated = false;\n        }, ms);\n      }\n    },\n    _offUpEvents: function () {\n      var ownerDocument = this.el.ownerDocument;\n\n      _off(document, 'touchmove', this._onTouchMove);\n\n      _off(document, 'pointermove', this._onTouchMove);\n\n      _off(ownerDocument, 'mouseup', this._onDrop);\n\n      _off(ownerDocument, 'touchend', this._onDrop);\n\n      _off(ownerDocument, 'pointerup', this._onDrop);\n\n      _off(ownerDocument, 'touchcancel', this._onDrop);\n\n      _off(ownerDocument, 'pointercancel', this._onDrop);\n\n      _off(ownerDocument, 'selectstart', this);\n    },\n    _onDrop: function (\n    /**Event*/\n    evt) {\n      var el = this.el,\n          options = this.options;\n      clearInterval(this._loopId);\n      clearInterval(autoScroll.pid);\n      clearTimeout(this._dragStartTimer); // Unbind events\n\n      _off(document, 'mousemove', this._onTouchMove);\n\n      if (this.nativeDraggable) {\n        _off(document, 'drop', this);\n\n        _off(el, 'dragstart', this._onDragStart);\n      }\n\n      this._offUpEvents();\n\n      if (evt) {\n        if (moved) {\n          evt.preventDefault();\n          !options.dropBubble && evt.stopPropagation();\n        }\n\n        ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n        if (rootEl === parentEl || Sortable.active.lastPullMode !== 'clone') {\n          // Remove clone\n          cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n        }\n\n        if (dragEl) {\n          if (this.nativeDraggable) {\n            _off(dragEl, 'dragend', this);\n          }\n\n          _disableDraggable(dragEl);\n\n          dragEl.style['will-change'] = ''; // Remove class's\n\n          _toggleClass(dragEl, this.options.ghostClass, false);\n\n          _toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n\n          _dispatchEvent(this, rootEl, 'unchoose', dragEl, rootEl, oldIndex);\n\n          if (rootEl !== parentEl) {\n            newIndex = _index(dragEl, options.draggable);\n\n            if (newIndex >= 0) {\n              // Add event\n              _dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex); // Remove event\n\n\n              _dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex); // drag from one list and drop into another\n\n\n              _dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\n              _dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n            }\n          } else {\n            if (dragEl.nextSibling !== nextEl) {\n              // Get the index of the dragged element within its parent\n              newIndex = _index(dragEl, options.draggable);\n\n              if (newIndex >= 0) {\n                // drag & drop within the same list\n                _dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\n                _dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n              }\n            }\n          }\n\n          if (Sortable.active) {\n            /* jshint eqnull:true */\n            if (newIndex == null || newIndex === -1) {\n              newIndex = oldIndex;\n            }\n\n            _dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex); // Save sorting\n\n\n            this.save();\n          }\n        }\n      }\n\n      this._nulling();\n    },\n    _nulling: function () {\n      rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = scrollEl = scrollParentEl = tapEvt = touchEvt = moved = newIndex = lastEl = lastCSS = putSortable = activeGroup = Sortable.active = null;\n      savedInputChecked.forEach(function (el) {\n        el.checked = true;\n      });\n      savedInputChecked.length = 0;\n    },\n    handleEvent: function (\n    /**Event*/\n    evt) {\n      switch (evt.type) {\n        case 'drop':\n        case 'dragend':\n          this._onDrop(evt);\n\n          break;\n\n        case 'dragover':\n        case 'dragenter':\n          if (dragEl) {\n            this._onDragOver(evt);\n\n            _globalDragOver(evt);\n          }\n\n          break;\n\n        case 'selectstart':\n          evt.preventDefault();\n          break;\n      }\n    },\n\n    /**\n     * Serializes the item into an array of string.\n     * @returns {String[]}\n     */\n    toArray: function () {\n      var order = [],\n          el,\n          children = this.el.children,\n          i = 0,\n          n = children.length,\n          options = this.options;\n\n      for (; i < n; i++) {\n        el = children[i];\n\n        if (_closest(el, options.draggable, this.el)) {\n          order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n        }\n      }\n\n      return order;\n    },\n\n    /**\n     * Sorts the elements according to the array.\n     * @param  {String[]}  order  order of the items\n     */\n    sort: function (order) {\n      var items = {},\n          rootEl = this.el;\n      this.toArray().forEach(function (id, i) {\n        var el = rootEl.children[i];\n\n        if (_closest(el, this.options.draggable, rootEl)) {\n          items[id] = el;\n        }\n      }, this);\n      order.forEach(function (id) {\n        if (items[id]) {\n          rootEl.removeChild(items[id]);\n          rootEl.appendChild(items[id]);\n        }\n      });\n    },\n\n    /**\n     * Save the current sorting\n     */\n    save: function () {\n      var store = this.options.store;\n      store && store.set(this);\n    },\n\n    /**\n     * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n     * @param   {HTMLElement}  el\n     * @param   {String}       [selector]  default: `options.draggable`\n     * @returns {HTMLElement|null}\n     */\n    closest: function (el, selector) {\n      return _closest(el, selector || this.options.draggable, this.el);\n    },\n\n    /**\n     * Set/get option\n     * @param   {string} name\n     * @param   {*}      [value]\n     * @returns {*}\n     */\n    option: function (name, value) {\n      var options = this.options;\n\n      if (value === void 0) {\n        return options[name];\n      } else {\n        options[name] = value;\n\n        if (name === 'group') {\n          _prepareGroup(options);\n        }\n      }\n    },\n\n    /**\n     * Destroy\n     */\n    destroy: function () {\n      var el = this.el;\n      el[expando] = null;\n\n      _off(el, 'mousedown', this._onTapStart);\n\n      _off(el, 'touchstart', this._onTapStart);\n\n      _off(el, 'pointerdown', this._onTapStart);\n\n      if (this.nativeDraggable) {\n        _off(el, 'dragover', this);\n\n        _off(el, 'dragenter', this);\n      } // Remove draggable attributes\n\n\n      Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n        el.removeAttribute('draggable');\n      });\n      touchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n      this._onDrop();\n\n      this.el = el = null;\n    }\n  };\n\n  function _cloneHide(sortable, state) {\n    if (sortable.lastPullMode !== 'clone') {\n      state = true;\n    }\n\n    if (cloneEl && cloneEl.state !== state) {\n      _css(cloneEl, 'display', state ? 'none' : '');\n\n      if (!state) {\n        if (cloneEl.state) {\n          if (sortable.options.group.revertClone) {\n            rootEl.insertBefore(cloneEl, nextEl);\n\n            sortable._animate(dragEl, cloneEl);\n          } else {\n            rootEl.insertBefore(cloneEl, dragEl);\n          }\n        }\n      }\n\n      cloneEl.state = state;\n    }\n  }\n\n  function _closest(\n  /**HTMLElement*/\n  el,\n  /**String*/\n  selector,\n  /**HTMLElement*/\n  ctx) {\n    if (el) {\n      ctx = ctx || document;\n\n      do {\n        if (selector === '>*' && el.parentNode === ctx || _matches(el, selector)) {\n          return el;\n        }\n        /* jshint boss:true */\n\n      } while (el = _getParentOrHost(el));\n    }\n\n    return null;\n  }\n\n  function _getParentOrHost(el) {\n    var parent = el.host;\n    return parent && parent.nodeType ? parent : el.parentNode;\n  }\n\n  function _globalDragOver(\n  /**Event*/\n  evt) {\n    if (evt.dataTransfer) {\n      evt.dataTransfer.dropEffect = 'move';\n    }\n\n    evt.preventDefault();\n  }\n\n  function _on(el, event, fn) {\n    el.addEventListener(event, fn, captureMode);\n  }\n\n  function _off(el, event, fn) {\n    el.removeEventListener(event, fn, captureMode);\n  }\n\n  function _toggleClass(el, name, state) {\n    if (el) {\n      if (el.classList) {\n        el.classList[state ? 'add' : 'remove'](name);\n      } else {\n        var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n        el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n      }\n    }\n  }\n\n  function _css(el, prop, val) {\n    var style = el && el.style;\n\n    if (style) {\n      if (val === void 0) {\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n          val = document.defaultView.getComputedStyle(el, '');\n        } else if (el.currentStyle) {\n          val = el.currentStyle;\n        }\n\n        return prop === void 0 ? val : val[prop];\n      } else {\n        if (!(prop in style)) {\n          prop = '-webkit-' + prop;\n        }\n\n        style[prop] = val + (typeof val === 'string' ? '' : 'px');\n      }\n    }\n  }\n\n  function _find(ctx, tagName, iterator) {\n    if (ctx) {\n      var list = ctx.getElementsByTagName(tagName),\n          i = 0,\n          n = list.length;\n\n      if (iterator) {\n        for (; i < n; i++) {\n          iterator(list[i], i);\n        }\n      }\n\n      return list;\n    }\n\n    return [];\n  }\n\n  function _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n    sortable = sortable || rootEl[expando];\n    var evt = document.createEvent('Event'),\n        options = sortable.options,\n        onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n    evt.initEvent(name, true, true);\n    evt.to = rootEl;\n    evt.from = fromEl || rootEl;\n    evt.item = targetEl || rootEl;\n    evt.clone = cloneEl;\n    evt.oldIndex = startIndex;\n    evt.newIndex = newIndex;\n    rootEl.dispatchEvent(evt);\n\n    if (options[onName]) {\n      options[onName].call(sortable, evt);\n    }\n  }\n\n  function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n    var evt,\n        sortable = fromEl[expando],\n        onMoveFn = sortable.options.onMove,\n        retVal;\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n    evt.to = toEl;\n    evt.from = fromEl;\n    evt.dragged = dragEl;\n    evt.draggedRect = dragRect;\n    evt.related = targetEl || toEl;\n    evt.relatedRect = targetRect || toEl.getBoundingClientRect();\n    evt.willInsertAfter = willInsertAfter;\n    fromEl.dispatchEvent(evt);\n\n    if (onMoveFn) {\n      retVal = onMoveFn.call(sortable, evt, originalEvt);\n    }\n\n    return retVal;\n  }\n\n  function _disableDraggable(el) {\n    el.draggable = false;\n  }\n\n  function _unsilent() {\n    _silent = false;\n  }\n  /** @returns {HTMLElement|false} */\n\n\n  function _ghostIsLast(el, evt) {\n    var lastEl = el.lastElementChild,\n        rect = lastEl.getBoundingClientRect(); // 5 — min delta\n    // abs — нельзя добавлять, а то глюки при наведении сверху\n\n    return evt.clientY - (rect.top + rect.height) > 5 || evt.clientX - (rect.left + rect.width) > 5;\n  }\n  /**\n   * Generate id\n   * @param   {HTMLElement} el\n   * @returns {String}\n   * @private\n   */\n\n\n  function _generateId(el) {\n    var str = el.tagName + el.className + el.src + el.href + el.textContent,\n        i = str.length,\n        sum = 0;\n\n    while (i--) {\n      sum += str.charCodeAt(i);\n    }\n\n    return sum.toString(36);\n  }\n  /**\n   * Returns the index of an element within its parent for a selected set of\n   * elements\n   * @param  {HTMLElement} el\n   * @param  {selector} selector\n   * @return {number}\n   */\n\n\n  function _index(el, selector) {\n    var index = 0;\n\n    if (!el || !el.parentNode) {\n      return -1;\n    }\n\n    while (el && (el = el.previousElementSibling)) {\n      if (el.nodeName.toUpperCase() !== 'TEMPLATE' && (selector === '>*' || _matches(el, selector))) {\n        index++;\n      }\n    }\n\n    return index;\n  }\n\n  function _matches(\n  /**HTMLElement*/\n  el,\n  /**String*/\n  selector) {\n    if (el) {\n      selector = selector.split('.');\n      var tag = selector.shift().toUpperCase(),\n          re = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n      return (tag === '' || el.nodeName.toUpperCase() == tag) && (!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length);\n    }\n\n    return false;\n  }\n\n  function _throttle(callback, ms) {\n    var args, _this;\n\n    return function () {\n      if (args === void 0) {\n        args = arguments;\n        _this = this;\n        setTimeout(function () {\n          if (args.length === 1) {\n            callback.call(_this, args[0]);\n          } else {\n            callback.apply(_this, args);\n          }\n\n          args = void 0;\n        }, ms);\n      }\n    };\n  }\n\n  function _extend(dst, src) {\n    if (dst && src) {\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          dst[key] = src[key];\n        }\n      }\n    }\n\n    return dst;\n  }\n\n  function _clone(el) {\n    return $ ? $(el).clone(true)[0] : Polymer && Polymer.dom ? Polymer.dom(el).cloneNode(true) : el.cloneNode(true);\n  }\n\n  function _saveInputCheckedState(root) {\n    var inputs = root.getElementsByTagName('input');\n    var idx = inputs.length;\n\n    while (idx--) {\n      var el = inputs[idx];\n      el.checked && savedInputChecked.push(el);\n    }\n  } // Fixed #973: \n\n\n  _on(document, 'touchmove', function (evt) {\n    if (Sortable.active) {\n      evt.preventDefault();\n    }\n  });\n\n  try {\n    window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n      get: function () {\n        captureMode = {\n          capture: false,\n          passive: false\n        };\n      }\n    }));\n  } catch (err) {} // Export utils\n\n\n  Sortable.utils = {\n    on: _on,\n    off: _off,\n    css: _css,\n    find: _find,\n    is: function (el, selector) {\n      return !!_closest(el, selector, el);\n    },\n    extend: _extend,\n    throttle: _throttle,\n    closest: _closest,\n    toggleClass: _toggleClass,\n    clone: _clone,\n    index: _index\n  };\n  /**\n   * Create sortable instance\n   * @param {HTMLElement}  el\n   * @param {Object}      [options]\n   */\n\n  Sortable.create = function (el, options) {\n    return new Sortable(el, options);\n  }; // Export\n\n\n  Sortable.version = '1.6.1';\n  return Sortable;\n});","map":{"version":3,"sources":["D:/program/java/coursebucket/node_modules/sortablejs/Sortable.js"],"names":["sortableModule","factory","define","amd","module","exports","window","sortableFactory","document","sortableError","Error","dragEl","parentEl","ghostEl","cloneEl","rootEl","nextEl","lastDownEl","scrollEl","scrollParentEl","scrollCustomFn","lastEl","lastCSS","lastParentCSS","oldIndex","newIndex","activeGroup","putSortable","autoScroll","tapEvt","touchEvt","moved","R_SPACE","R_FLOAT","expando","Date","getTime","win","parseInt","$","jQuery","Zepto","Polymer","captureMode","supportDraggable","createElement","supportCssPointerEvents","el","navigator","userAgent","match","style","cssText","pointerEvents","_silent","abs","Math","min","savedInputChecked","touchDragOverListeners","_autoScroll","_throttle","evt","options","scroll","_this","rect","sens","scrollSensitivity","speed","scrollSpeed","x","clientX","y","clientY","winWidth","innerWidth","winHeight","innerHeight","vx","vy","scrollOffsetX","scrollOffsetY","scrollFn","offsetWidth","scrollWidth","offsetHeight","scrollHeight","parentNode","getBoundingClientRect","right","left","bottom","top","clearInterval","pid","setInterval","call","scrollTo","pageXOffset","pageYOffset","scrollTop","scrollLeft","_prepareGroup","toFn","value","pull","group","name","to","from","fromGroup","join","indexOf","originalGroup","checkPull","checkPut","put","revertClone","Sortable","nodeType","toString","_extend","defaults","random","sort","disabled","store","handle","draggable","test","nodeName","ghostClass","chosenClass","dragClass","ignore","filter","preventOnFilter","animation","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","fn","charAt","bind","nativeDraggable","_on","_onTapStart","push","_onDragOver","get","prototype","constructor","type","touch","touches","target","originalTarget","shadowRoot","path","startIndex","_saveInputCheckedState","button","_closest","_index","_dispatchEvent","preventDefault","split","some","criteria","trim","_prepareDragStart","ownerDocument","dragStartFn","nextSibling","_lastX","_lastY","_disableDelayedDrag","_toggleClass","_triggerDragStart","forEach","_find","_disableDraggable","_onDrop","_dragStartTimer","setTimeout","clearTimeout","_off","pointerType","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","active","_nulling","_emulateDragOver","_css","elementFromPoint","parent","i","length","_onTouchMove","dx","dy","translate3d","_appendGhost","css","ghostRect","cloneNode","marginTop","marginLeft","width","height","body","appendChild","useFallback","_offUpEvents","_clone","insertBefore","_loopId","effectAllowed","dragRect","targetRect","revert","activeSortable","isOwner","isMovingBetweenSortable","canSort","stopPropagation","animated","contains","lastPullMode","_cloneHide","children","_ghostIsLast","lastElementChild","_onMove","_animate","floating","cssFloat","display","isWide","isLong","halfway","nextElementSibling","after","elTop","offsetTop","tgTop","previousElementSibling","moveVector","_unsilent","prevRect","ms","currentRect","removeChild","save","checked","handleEvent","_globalDragOver","toArray","order","n","getAttribute","_generateId","items","id","set","closest","selector","option","destroy","Array","querySelectorAll","removeAttribute","splice","sortable","state","ctx","_matches","_getParentOrHost","host","dropEffect","event","addEventListener","removeEventListener","classList","className","replace","prop","val","defaultView","getComputedStyle","currentStyle","tagName","iterator","list","getElementsByTagName","targetEl","fromEl","createEvent","onName","toUpperCase","substr","initEvent","item","clone","dispatchEvent","toEl","originalEvt","willInsertAfter","onMoveFn","onMove","retVal","dragged","draggedRect","related","relatedRect","str","src","href","sum","charCodeAt","index","tag","shift","re","RegExp","callback","args","arguments","apply","dst","key","hasOwnProperty","dom","root","inputs","idx","Object","defineProperty","capture","passive","utils","on","off","find","is","extend","throttle","toggleClass","create","version"],"mappings":"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","sourcesContent":["/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window == \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\t\tR_FLOAT = /left|right|inline/,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = false,\n\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\t// false when IE11\n\t\t\tif (!!navigator.userAgent.match(/Trident.*rv[ :]?11\\./)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tel = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\n\t\tsavedInputChecked = [],\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar _this = rootEl[expando],\n\t\t\t\t\tel,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy,\n\n\t\t\t\t\tscrollOffsetX,\n\t\t\t\t\tscrollOffsetY\n\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tscrollOffsetY = vy ? vy * speed : 0;\n\t\t\t\t\t\t\tscrollOffsetX = vx ? vx * speed : 0;\n\n\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\treturn scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + scrollOffsetX, win.pageYOffset + scrollOffsetY);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.scrollTop += scrollOffsetY;\n\t\t\t\t\t\t\t\tel.scrollLeft += scrollOffsetX;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\tif (value === void 0 || value === true) {\n\t\t\t\t\tvalue = group.name;\n\t\t\t\t}\n\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\treturn function (to, from) {\n\t\t\t\t\t\tvar fromGroup = from.options.group.name;\n\n\t\t\t\t\t\treturn pull\n\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t: value && (value.join\n\t\t\t\t\t\t\t\t? value.indexOf(fromGroup) > -1\n\t\t\t\t\t\t\t\t: (fromGroup == value)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t}\n\t;\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0}\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t_on(el, 'pointerdown', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && (evt.path && evt.path[0]) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, startIndex);\n\t\t\t\t\tpreventOnFilter && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, startIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'transform';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = _this.nativeDraggable;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, oldIndex);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'pointercancel', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'selectstart', _this);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'pointermove', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'pointermove', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t_toggleClass(dragEl, options.dragClass, false);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = (touch.clientX - tapEvt.clientX) + fallbackOffset.x,\n\t\t\t\t\tdy = (touch.clientY - tapEvt.clientY) + fallbackOffset.y,\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options,\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.checkPull(this, this, dragEl, evt)) {\n\t\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\t\tcloneEl.draggable = false;\n\t\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\t_toggleClass(cloneEl, this.options.chosenClass, false);\n\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t_dispatchEvent(this, rootEl, 'clone', dragEl);\n\t\t\t}\n\n\t\t\t_toggleClass(dragEl, options.dragClass, true);\n\n\t\t\tif (useFallback) {\n\t\t\t\tif (useFallback === 'touch') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'pointerup', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tisMovingBetweenSortable = false,\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tif (dragEl.animated) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(activeSortable.lastPullMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (putSortable !== this) {\n\t\t\t\t\tputSortable = this;\n\t\t\t\t\tisMovingBetweenSortable = true;\n\t\t\t\t}\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(activeSortable, true);\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (_ghostIsLast(el, evt))\n\t\t\t\t) {\n\t\t\t\t\t//assign target only if condition is true\n\t\t\t\t\tif (el.children.length !== 0 && el.children[0] !== ghostEl && el === evt.target) {\n\t\t\t\t\t\ttarget = el.lastElementChild;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(activeSortable, isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\n\t\t\t\t\tvar width = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = R_FLOAT.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false\n\t\t\t\t\t;\n\n\t\t\t\t\tif (floating) {\n\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (target.previousElementSibling === dragEl || dragEl.previousElementSibling === target) {\n\t\t\t\t\t\t\tafter = (evt.clientY - targetRect.top) / height > 0.5;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!isMovingBetweenSortable) {\n\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(activeSortable, isOwner);\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = prevRect.getBoundingClientRect();\n\t\t\t\t}\n\n\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointercancel', this._onDrop);\n\t\t\t_off(ownerDocument, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || Sortable.active.lastPullMode !== 'clone') {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, rootEl, oldIndex);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\n\t\t\tlastEl =\n\t\t\tlastCSS =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragover':\n\t\t\t\tcase 'dragenter':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(sortable, state) {\n\t\tif (sortable.lastPullMode !== 'clone') {\n\t\t\tstate = true;\n\t\t}\n\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\n\n\t\t\tif (!state) {\n\t\t\t\tif (cloneEl.state) {\n\t\t\t\t\tif (sortable.options.group.revertClone) {\n\t\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t\t\tsortable._animate(dragEl, cloneEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif ((selector === '>*' && el.parentNode === ctx) || _matches(el, selector)) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\tvar parent = el.host;\n\n\t\treturn (parent && parent.nodeType) ? parent : el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tsortable = (sortable || rootEl[expando]);\n\n\t\tvar evt = document.createEvent('Event'),\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\t// 5 — min delta\n\t\t// abs — нельзя добавлять, а то глюки при наведении сверху\n\t\treturn (evt.clientY - (rect.top + rect.height) > 5) ||\n\t\t\t(evt.clientX - (rect.left + rect.width) > 5);\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && (selector === '>*' || _matches(el, selector))) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (el) {\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n\n\t\t\treturn (\n\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\n\t\t\t);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\treturn $\n\t\t\t? $(el).clone(true)[0]\n\t\t\t: (Polymer && Polymer.dom\n\t\t\t\t? Polymer.dom(el).cloneNode(true)\n\t\t\t\t: el.cloneNode(true)\n\t\t\t);\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\t// Fixed #973: \n\t_on(document, 'touchmove', function (evt) {\n\t\tif (Sortable.active) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\ttry {\n\t\twindow.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n\t\t\tget: function () {\n\t\t\t\tcaptureMode = {\n\t\t\t\t\tcapture: false,\n\t\t\t\t\tpassive: false\n\t\t\t\t};\n\t\t\t}\n\t\t}));\n\t} catch (err) {}\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.6.1';\n\treturn Sortable;\n});\n"]},"metadata":{},"sourceType":"script"}